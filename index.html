<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>NaloxBox Locations</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZJV377KFXV"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-ZJV377KFXV');
    </script>
    
    <link rel="stylesheet" href="style.css" />
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.3.0/mapbox-gl.css" rel="stylesheet" />
    <link rel="stylesheet"
        href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.css"
        type="text/css" />

    <script src="https://cdn.lordicon.com/lordicon.js"></script>

</head>

<body>
    <div id="map"></div>

    <div id="legend">
        <h4>Map Legend</h4>
        <div>
            <input type="checkbox" id="naloxbox-checkbox" checked>
            <label for="naloxbox-checkbox">
                <lord-icon src="https://cdn.lordicon.com/bpmglzll.json" trigger="hover" colors="primary:#e83a30"
                    style="width:20px;height:20px">
                </lord-icon>
                Naloxboxes
            </label>
        </div>
        <div>
            <input type="checkbox" id="oppp-checkbox" checked>
            <label for="oppp-checkbox">
                <lord-icon src="https://cdn.lordicon.com/daeumrty.json" trigger="hover" state="hover-wave"
                    colors="primary:#f9c9c0,secondary:#ebe6ef,tertiary:#000000,quaternary:#b26836"
                    style="width:20px;height:20px">
                </lord-icon>
                </lord-icon>
                OOPP
            </label>
        </div>
    </div>


    <!-- Information Button -->
    <button id="toggle-notes-button" class="modern-button">
        Information
    </button>
    <div id="notes-box" class="modern-modal" style="display:none;">
        <div class="modal-content">
            <button id="close-notes-button" class="close-button">&times;</button>
            <div class="modal-header">
                <h3>How to Use the Map</h3>
            </div>
            <div class="modal-body">
                <div class="info-section">
                    <div class="info-icon">
                        <lord-icon src="https://cdn.lordicon.com/lyrrgrcb.json" trigger="hover" colors="primary:#e83a30" style="width:32px;height:32px"></lord-icon>
                    </div>
                    <div class="info-content">
                        <h4>Search Bar Function</h4>
                        <ul>
                            <li>Type in an address or a zip code.</li>
                            <li>Zoom out and find the nearest Naloxbox.</li>
                        </ul>
                    </div>
                </div>

                <div class="info-section">
                    <div class="info-icon">
                        <lord-icon src="https://cdn.lordicon.com/lyrrgrcb.json" trigger="hover" colors="primary:#e83a30" style="width:32px;height:32px"></lord-icon>
                    </div>
                    <div class="info-content">
                        <h4>Share Location Function</h4>
                        <ul>
                            <li>Click on the location icon at the top right to share your location.</li>
                            <li>Then zoom out and find the nearest Naloxbox.</li>
                        </ul>
                    </div>
                </div>

                <div class="info-section">
                    <div class="info-icon">
                        <lord-icon src="https://cdn.lordicon.com/lyrrgrcb.json" trigger="hover" colors="primary:#e83a30" style="width:32px;height:32px"></lord-icon>
                    </div>
                    <div class="info-content">
                        <h4>Restock Button</h4>
                        <ul>
                            <li>If a Naloxbox is out of stock, click the "Notify to Restock" button to notify our team.</li>
                        </ul>
                    </div>
                </div>

                <div class="feedback-section">
                    <h4><a href="https://forms.office.com/g/rFu7vQgLnP" target="_blank" class="feedback-link">
                    Take our Feedback Survey
                    </a></h4>
                </div>
            </div>
        </div>
    </div>

    <!-- OOPP Button -->
    <button id="toggle-oopp-button" class="modern-button">
        OOPP
    </button>
    <div id="oopp-box" class="modern-modal" style="display:none;">
        <div class="modal-content">
            <button id="close-oopp-button" class="close-button">&times;</button>
            <div class="modal-header">
                <h3>Opioid Overdose Prevention Program (OOPP)</h3>
            </div>
            <div class="modal-body">
                <div class="info-section">
                    <div class="info-icon">
                        <lord-icon src="https://cdn.lordicon.com/daeumrty.json" trigger="hover" state="hover-wave" colors="primary:#f9c9c0" style="width:32px;height:32px"></lord-icon>
                    </div>
                    <div class="info-content">
                        <h4>What is the Opioid Overdose Prevention Program (OOPP)?</h4>
                        <p>An Opioid Overdose Prevention Program (OOPP) is an initiative authorized at the state level and implemented locally to reduce fatalities from opioid overdoses.</p>
                    </div>
                </div>
                <div class="feedback-section">
                    <h4><a href="https://www.orangecountygov.com/2630/23757/Opioid-Overdose-Prevention-Program-OOPP" target="_blank" class="feedback-link">
                        Learn More About OOPP
                    </a></h4>
                </div>
            </div>
        </div>
    </div>

    <!-- Naloxbox Button -->
    <button id="toggle-additional-notes-button" class="modern-button">
        Naloxone (Narcan)
    </button>
    <div id="additional-notes-box" class="modern-modal" style="display:none;">
        <div class="modal-content">
            <button id="close-additional-notes-button" class="close-button">&times;</button>
            <div class="modal-header">
                <h3>What is Naloxone (Narcan)?</h3>
            </div>
            <div class="modal-body">
                <div class="info-section">
                    <div class="info-icon">
                        <lord-icon src="https://cdn.lordicon.com/bpmglzll.json" trigger="hover" colors="primary:#e83a30" style="width:32px;height:32px"></lord-icon>
                    </div>
                    <div class="info-content">
                        <h4>About Naloxone (Narcan)</h4>
                        <p>Naloxone is a life-saving medication designed to rapidly reverse opioid overdose.</p>
                        <ul>
                            <li>Administer one spray into one nostril of the person experiencing an overdose.</li>
                            <li>It begins working within 2–3 minutes.</li>
                            <li>If there is no response, repeat every 2–3 minutes and call 911 immediately.</li>
                        </ul>
                    </div>
                </div>
                <div class="feedback-section">
                    <h4><a href="https://www.orangecountygov.com/2631/23761/Naloxone-Narcan" target="_blank" class="feedback-link">
                        Learn More About Naloxone (Narcan)
                    </a></h4>
                </div>
            </div>
        </div>
    </div>


    <!-- Include Mapbox GL and Geocoder libraries -->
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.3.0/mapbox-gl.js"></script>
    <script
        src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.min.js"></script>
    
    <!-- Nearest Locations Side Panel -->
    <div id="nearest-modal" class="nearest-panel" style="display:none;">
        <div class="modal-content">
            <button id="close-nearest-button" class="close-button">&times;</button>
            <div class="modal-header">
                <h3>Nearest Locations</h3>
            </div>
            <div class="modal-body">
                <div id="nearest-origin" class="nearest-origin"></div>
                <ul id="nearest-list" class="nearest-list"></ul>
            </div>
        </div>
    </div>
    <!-- Reference your external JS file -->
    <script src="map.js"></script>
</body>

</html>
